@{
    var currentController = ViewContext.RouteData.Values["Controller"].ToString();
    var currentAction = ViewContext.RouteData.Values["Action"].ToString();
    var isMasterController = currentController == "Category" || currentController == "Exam" || currentController == "Question" || currentController == "Answer";
    var activeMasterClass = isMasterController ? "nav__link--active" : "";
}

<ul class="nav">

    @if (User.IsInRole("Admin"))
    {
        <li class="nav-item">
            <a class="nav-link text-dark @(currentController == "Admin" && currentAction == "Dashboard" ? "nav__link--active" : "")" asp-area="" asp-controller="Admin" asp-action="Dashboard">
                Dashboard
            </a>
        </li>
    }

    @if (User.IsInRole("User"))
    {
        <li class="nav-item">
            <a class="nav-link text-dark @(currentController == "User" && currentAction == "Dashboard" ? "nav__link--active" : "")" asp-area="" asp-controller="User" asp-action="Dashboard">
                Dashboard
            </a>
        </li>
    }
</ul>

<ul class="nav ms-auto">
    @if (User.Identity.IsAuthenticated)
    {
        <li class="nav-item">
            <a class="nav-link text-dark @(currentController == "Home" && currentAction == "Index" ? "nav__link--active" : "")" asp-area="" asp-controller="Home" asp-action="Index">
                Home
            </a>
        </li>

        <li class="nav-item">
            <form asp-area="" asp-controller="Auth" asp-action="Logout" method="post">
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-danger @(currentController == "Auth" && currentAction == "Logout" ? "nav__link--active" : "")">
                    Logout
                </button>
            </form>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a class="btn btn-primary @(currentController == "User" && currentAction == "Create" ? "nav__link--active" : "")" asp-area="" asp-controller="User" asp-action="Create">
                Register
            </a>
        </li>

        <li class="nav-item">
            <a class="btn btn-primary @(currentController == "Auth" && currentAction == "Login" ? "nav__link--active" : "")" asp-area="" asp-controller="Auth" asp-action="Login">
                Login
            </a>
        </li>
    }
</ul>
